[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="app" v-cloak>
  <!-- Put here your Vue.js template -->

  <h1 class="title">Keow</h1>

  <textarea class="textarea" placeholder="Compose your Keow" v-model="keow"></textarea>
  <button class="mt-3 button is-primary" @click="add_keow">Keow!</button>


  <div class="card mt-4" v-for="(keow, idx) in keows">
    <div class="card-content">
      <p>
        {{ keow.keow_content }}
      </p>
      <p class="has-text-link">
        <span @mouseout="thumb_out(idx)">
          <span @mouseover="thumb_over(idx, 1)" @click="thumb_set(idx, 1)">
            <i v-if="keow.thumb_display == 1" class="fa fa-thumbs-up"></i>
            <i v-else class="fa fa-thumbs-o-up"></i>
          </span>
          <span class="ml-1" @mouseover="thumb_over(idx, -1)" @click="thumb_set(idx, -1)">
            <i v-if="keow.thumb_display == -1" class="fa fa-thumbs-down fa-flip-horizontal"></i>
            <i v-else class="fa fa-thumbs-o-down fa-flip-horizontal"></i> 
          </span>
        </span>
        <span class="ml-3">{{keow.total}}</span>
      </p>
    </div>
  </div>

</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let add_keow_url = "[[=XML(add_keow_url)]]";
  let get_keows_url = "[[=XML(get_keows_url)]]";
  let set_thumb_url = "[[=XML(set_thumb_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
